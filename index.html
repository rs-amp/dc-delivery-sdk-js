<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>dc-delivery-sdk-js</title>
	<meta name="description" content="Documentation for dc-delivery-sdk-js">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">dc-delivery-sdk-js</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>dc-delivery-sdk-js</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<p><a href="https://amplience.com/dynamic-content"><img src="media/header.png" alt="Amplience Dynamic Content"></a></p>
				<a href="#dc-delivery-sdk-js" id="dc-delivery-sdk-js" style="color: inherit; text-decoration: none;">
					<h1>dc-delivery-sdk-js</h1>
				</a>
				<blockquote>
					<p>Official Javascript SDK for the Amplience Dynamic Content Delivery API</p>
				</blockquote>
				<p><a href="https://badge.fury.io/js/dc-delivery-sdk-js"><img src="https://badge.fury.io/js/dc-delivery-sdk-js.svg" alt="npm version"></a></p>
				<p>This sdk is designed to help build client side and server side content managed applications.</p>
				<a href="#features" id="features" style="color: inherit; text-decoration: none;">
					<h2>Features</h2>
				</a>
				<ul>
					<li>Fetch content and slots using the <a href="https://docs.amplience.net/integration/deliveryapi.html#the-content-delivery-api">Content Delivery 1</a> and/or <a href="https://docs.amplience.net/development/contentdelivery/readme.html">Content Delivery 2</a></li>
					<li>Fetch preview content using Virtual Staging</li>
					<li>Transform content using the <a href="https://docs.amplience.net/integration/contentrenderingservice.html#the-content-rendering-service">Content Rendering Service</a></li>
					<li>Localize content</li>
					<li>Transform images on the fly using the <a href="http://playground.amplience.com/di/app/#/intro">Dynamic Media Service</a></li>
				</ul>
				<p>So we can have nice things:</p>
				<ul>
					<li>ES6 module &amp; tree-shaking support for tools capable of using <a href="https://github.com/rollup/rollup/wiki/pkg.module">ES6 imports</a> (like <a href="http://rollupjs.org/">Rollup</a>, <a href="https://webpack.js.org/">Webpack</a>, or <a href="https://parceljs.org/">Parcel</a>)</li>
					<li>Backwards compatibility for Node.js-style (CommonJS) imports</li>
					<li>TypeScript type definitions</li>
					<li>Universal Module Definition (UMD) to support direct use in the browser</li>
				</ul>
				<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
					<h2>Installation</h2>
				</a>
				<p>Using npm:</p>
				<pre><code class="language-sh">npm install dc-delivery-sdk-js --save</code></pre>
				<p>Using cdn:</p>
				<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/dc-delivery-sdk-js/dist/dynamicContent.browser.umd.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
				<p>for legacy browsers:</p>
				<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/dc-delivery-sdk-js/dist/dynamicContent.browser.umd.legacy.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
				<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
					<h2>Usage</h2>
				</a>
				<p>This sdk supports browser and node.js applications using ES6 or CommonJS style imports.</p>
				<p>ES6:</p>
				<pre><code class="language-js"><span class="hljs-keyword">import</span> { ContentClient } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;dc-delivery-sdk-js&#x27;</span>;

<span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> ContentClient({
  <span class="hljs-attr">account</span>: <span class="hljs-string">&#x27;myaccount&#x27;</span>
});</code></pre>
				<p>CommonJS:</p>
				<pre><code class="language-js"><span class="hljs-keyword">const</span> ContentClient = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;dc-delivery-sdk-js&#x27;</span>).ContentClient;

<span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> ContentClient({
  <span class="hljs-attr">account</span>: <span class="hljs-string">&#x27;myaccount&#x27;</span>
});</code></pre>
				<p>If your application does not use a package manager you can directly include the pre-bundled version of the sdk and access the features using the global &quot;ampDynamicContent&quot;.</p>
				<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/dc-delivery-sdk-js/dist/dynamicContent.browser.umd.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
				<pre><code class="language-js"><span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> ampDynamicContent.ContentClient({
  <span class="hljs-attr">account</span>: <span class="hljs-string">&#x27;myaccount&#x27;</span>
});</code></pre>
				<p>If you need to support old browsers a legacy version of the bundle is provided, however we strongly recommend using a tool like <a href="https://babeljs.io/">babel</a> in your project to compile the sdk to your exact browser requirements.</p>
				<a href="#configuration-options" id="configuration-options" style="color: inherit; text-decoration: none;">
					<h3>Configuration options</h3>
				</a>
				<table>
					<thead>
						<tr>
							<th>Option</th>
							<th>Description</th>
						</tr>
					</thead>
					<tbody><tr>
							<td>account</td>
							<td>Required (see Note below): Account to retrieve content from Content Delivery 1 API</td>
						</tr>
						<tr>
							<td>hubName</td>
							<td>Required (see Note below): hubName to retrieve content from Content Delivery 2 API</td>
						</tr>
						<tr>
							<td>stagingEnvironment</td>
							<td>If set, the SDK will request content and media from the staging environment host name specified.</td>
						</tr>
						<tr>
							<td>locale</td>
							<td>If set, the SDK will request content using the locale settings provided.</td>
						</tr>
						<tr>
							<td>mediaHost</td>
							<td>Allows users with custom hostnames to override the hostname used when constructing media URLs.</td>
						</tr>
						<tr>
							<td>secureMediaHost</td>
							<td>Allows users with custom hostnames to override the hostname used when constructing secure media URLs.</td>
						</tr>
						<tr>
							<td>baseUrl</td>
							<td>Override for the content delivery API base URL</td>
						</tr>
						<tr>
							<td>adaptor</td>
							<td>Allows custom handling of requests which makes testing and supporting non-standard environments easier.</td>
						</tr>
						<tr>
							<td>timeout</td>
							<td>If set, requests made will timeout after the number of milliseconds specified.</td>
						</tr>
				</tbody></table>
				<p><strong>Note</strong>: In order to use the client must be configure it with either <code>account</code> or <code>hubName</code>. If both are supplied the SDK will use the Content Delivery 2 API over the Content Delivery 1 API.</p>
				<a href="#fetch-content-by-delivery-id" id="fetch-content-by-delivery-id" style="color: inherit; text-decoration: none;">
					<h3>Fetch content by delivery ID</h3>
				</a>
				<p>Once your client is created you can request content for a slot or content item id. This will return a promise which will resolve to the JSON of your slot or content item. If no content is found with the provided id the promise will reject with an error.</p>
				<pre><code class="language-js"><span class="hljs-keyword">const</span> slotId = <span class="hljs-string">&#x27;cb671f37-0a66-46c3-a011-54ce3cdff241&#x27;</span>;
client
  .getContentItemById(slotId)
  .then(<span class="hljs-function"><span class="hljs-params">content</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(content.body);
  })
  .catch(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;content not found&#x27;</span>, error);
  });</code></pre>
				<p>The format of the content object will be specific to your content types, which define the JSON structure of content items and slots, however a set of standard metadata is always included in a property called &quot;_meta&quot;.</p>
				<p>If the slot or content item requested returns a graph of content, for example a carousel may also return linked slides, these will be included inline in the JSON.</p>
				<p>Example:</p>
				<pre><code class="language-json">{
  <span class="hljs-attr">&quot;_meta&quot;</span>: {
    <span class="hljs-attr">&quot;schema&quot;</span>: <span class="hljs-string">&quot;https://www.anyafinn.online/content-types/carousel.json&quot;</span>,
    <span class="hljs-attr">&quot;deliveryId&quot;</span>: <span class="hljs-string">&quot;543246b7-5948-4849-884c-b295402a95b4&quot;</span>,
    <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;example-carousel&quot;</span>
  },
  <span class="hljs-attr">&quot;slides&quot;</span>: [
    {
      <span class="hljs-attr">&quot;_meta&quot;</span>: {
        <span class="hljs-attr">&quot;schema&quot;</span>: <span class="hljs-string">&quot;https://www.anyafinn.online/content-types/slide.json&quot;</span>,
        <span class="hljs-attr">&quot;deliveryId&quot;</span>: <span class="hljs-string">&quot;d6ccc158-6ab7-48d0-aa85-d9fbf2aef000&quot;</span>,
        <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;example-slide&quot;</span>
      },
      <span class="hljs-attr">&quot;heading&quot;</span>: <span class="hljs-string">&quot;Free shipping until Sunday!&quot;</span>
    }
  ]
}</code></pre>
				<a href="#fetch-content-by-delivery-key-via-content-delivery-2" id="fetch-content-by-delivery-key-via-content-delivery-2" style="color: inherit; text-decoration: none;">
					<h3>Fetch content by delivery key (via Content Delivery 2)</h3>
				</a>
				<p><strong>Note:</strong> In order to get content by its delivery key via <code>getContentItemByKey()</code>, you must supply the <code>hubName</code> option to the client, you <a href="https://docs.amplience.net/development/contentdelivery/readme.html#hubname">find your Hub name under the settings section in Dynamic Content</a>.</p>
				<p>Once you have <a href="https://docs.amplience.net/development/delivery-keys/readme.html">set a delivery key for a slot or content item</a>, the content item must be published before it can be retrieved using this SDK.</p>
				<p>The <code>getContentItemByKey()</code> method will return a promise which will resolve to the JSON of your slot or content item. If no content is found with the provided key the promise will reject with an error.</p>
				<pre><code class="language-js"><span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> ContentClient({
  <span class="hljs-attr">hubName</span>: <span class="hljs-string">&#x27;myhub&#x27;</span>
});

<span class="hljs-keyword">const</span> slot = <span class="hljs-string">&#x27;homepage-banner-slot&#x27;</span>;
client
  .getContentItemByKey(slot)
  .then(<span class="hljs-function"><span class="hljs-params">content</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(content.body);
  })
  .catch(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;content not found&#x27;</span>, error);
  });</code></pre>
				<p>The format of the content object will be specific to your content types, which define the JSON structure of content items and slots, however a set of standard metadata is always included in a property called &quot;_meta&quot; along with the <code>deliveryKey</code> on content items that have it defined. </p>
				<p>If the slot or content item requested returns a graph of content, for example a carousel may also return linked slides, these will be included inline in the JSON. </p>
				<p>The delivery key</p>
				<p>Example:</p>
				<pre><code class="language-json">{
  <span class="hljs-attr">&quot;_meta&quot;</span>: {
    <span class="hljs-attr">&quot;schema&quot;</span>: <span class="hljs-string">&quot;https://www.anyafinn.online/content-types/carousel.json&quot;</span>,
    <span class="hljs-attr">&quot;deliveryId&quot;</span>: <span class="hljs-string">&quot;543246b7-5948-4849-884c-b295402a95b4&quot;</span>,
    <span class="hljs-attr">&quot;deliveryKey&quot;</span>: <span class="hljs-string">&quot;homepage-banner-slot&quot;</span>,
    <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;example-carousel&quot;</span>
  },
  <span class="hljs-attr">&quot;slides&quot;</span>: [
    {
      <span class="hljs-attr">&quot;_meta&quot;</span>: {
        <span class="hljs-attr">&quot;schema&quot;</span>: <span class="hljs-string">&quot;https://www.anyafinn.online/content-types/slide.json&quot;</span>,
        <span class="hljs-attr">&quot;deliveryId&quot;</span>: <span class="hljs-string">&quot;d6ccc158-6ab7-48d0-aa85-d9fbf2aef000&quot;</span>,
        <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;example-slide&quot;</span>
      },
      <span class="hljs-attr">&quot;heading&quot;</span>: <span class="hljs-string">&quot;Free shipping until Sunday!&quot;</span>
    }
  ]
}</code></pre>
				<a href="#preview-staging-content" id="preview-staging-content" style="color: inherit; text-decoration: none;">
					<h3>Preview staging content</h3>
				</a>
				<p>By default, the content client will request content from the production content delivery services. When a user wants to preview content before it is published you can re-point the client to a virtual staging environment (VSE):</p>
				<pre><code class="language-js"><span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> ContentClient({
  <span class="hljs-attr">account</span>: <span class="hljs-string">&#x27;myaccount&#x27;</span>,
  <span class="hljs-attr">stagingEnvironment</span>: <span class="hljs-string">&#x27;fhboh562c3tx1844c2ycknz96.staging.bigcontent.io&#x27;</span>
});</code></pre>
				<p>Dynamic Content generates a VSE for each user and typically passes the &quot;stagingEnvironment&quot; value into your application using a URL parameter. This allows each user to effectively have their own staging environment which allows content producers to work in parallel.</p>
				<a href="#previewing-staging-content-for-a-given-snapshot-or-at-a-given-point-in-time-time-machine" id="previewing-staging-content-for-a-given-snapshot-or-at-a-given-point-in-time-time-machine" style="color: inherit; text-decoration: none;">
					<h4>Previewing staging content for a given Snapshot or at a given point in time (time machine)</h4>
				</a>
				<p>You can use the <code>StagingEnvironmentFactory</code> to generate a new staging environment that is &#39;pinned&#39; to a Snapshot or a timestamp, which then can be passed into the ContentClient.</p>
				<p>Previewing content for a given Snapshot:</p>
				<pre><code class="language-js"><span class="hljs-keyword">const</span> factory = <span class="hljs-keyword">new</span> StagingEnvironmentFactory(
  <span class="hljs-string">&#x27;fhboh562c3tx1844c2ycknz96.staging.bigcontent.io&#x27;</span>
);
<span class="hljs-keyword">const</span> stagingEnvironmentAtSnapshot = <span class="hljs-keyword">await</span> factory.generateDomain({
  <span class="hljs-attr">snapshotId</span>: <span class="hljs-string">&#x27;abcdef123456&#x27;</span>
});

<span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> ContentClient({
  <span class="hljs-attr">account</span>: <span class="hljs-string">&#x27;myaccount&#x27;</span>,
  <span class="hljs-attr">stagingEnvironment</span>: stagingEnvironmentAtSnapshot
});</code></pre>
				<p>Previewing content at a given timestamp (epoch milliseconds):</p>
				<pre><code class="language-js"><span class="hljs-keyword">const</span> factory = <span class="hljs-keyword">new</span> StagingEnvironmentFactory(
  <span class="hljs-string">&#x27;fhboh562c3tx1844c2ycknz96.staging.bigcontent.io&#x27;</span>
);
<span class="hljs-keyword">const</span> stagingEnvironmentAtTimestamp = <span class="hljs-keyword">await</span> factory.generateDomain({
  <span class="hljs-attr">timestamp</span>: <span class="hljs-number">1546264721816</span>
});

<span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> ContentClient({
  <span class="hljs-attr">account</span>: <span class="hljs-string">&#x27;myaccount&#x27;</span>,
  <span class="hljs-attr">stagingEnvironment</span>: stagingEnvironmentAtTimestamp
});</code></pre>
				<a href="#localize-content" id="localize-content" style="color: inherit; text-decoration: none;">
					<h3>Localize content</h3>
				</a>
				<p>Content types can make use of <a href="https://docs.amplience.net/production/localization.html#field-level-localization">field-level localization</a> to give content producers the ability to enter locale specific values for a field.</p>
				<p>By default, every locale value will be returned in the content object:</p>
				<pre><code class="language-json">{
  <span class="hljs-attr">&quot;_meta&quot;</span>: {
    <span class="hljs-attr">&quot;schema&quot;</span>: <span class="hljs-string">&quot;https://www.anyafinn.online/content-types/slide.json&quot;</span>,
    <span class="hljs-attr">&quot;deliveryId&quot;</span>: <span class="hljs-string">&quot;d6ccc158-6ab7-48d0-aa85-d9fbf2aef000&quot;</span>,
    <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;example-slide&quot;</span>
  },
  <span class="hljs-attr">&quot;heading&quot;</span>: {
    <span class="hljs-attr">&quot;_meta&quot;</span>: {
      <span class="hljs-attr">&quot;schema&quot;</span>: <span class="hljs-string">&quot;http://bigcontent.io/cms/schema/v1/core#/definitions/localized-value&quot;</span>
    },
    <span class="hljs-attr">&quot;values&quot;</span>: [
      {
        <span class="hljs-attr">&quot;locale&quot;</span>: <span class="hljs-string">&quot;en-US&quot;</span>,
        <span class="hljs-attr">&quot;value&quot;</span>: <span class="hljs-string">&quot;Free shipping until Sunday!&quot;</span>
      },
      {
        <span class="hljs-attr">&quot;locale&quot;</span>: <span class="hljs-string">&quot;de-de&quot;</span>,
        <span class="hljs-attr">&quot;value&quot;</span>: <span class="hljs-string">&quot;Kostenloser Versand bis Sonntag!&quot;</span>
      }
    ]
  }
}</code></pre>
				<p>If desired, you can configure the sdk with a locale query. If set, the locale matching is performed server side and only a single value will be returned.</p>
				<pre><code class="language-js"><span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> ContentClient({
  <span class="hljs-attr">account</span>: <span class="hljs-string">&#x27;myaccount&#x27;</span>,
  <span class="hljs-attr">locale</span>: <span class="hljs-string">&#x27;en-US,en-*&#x27;</span>
});</code></pre>
				<p>Returns</p>
				<pre><code class="language-json">{
  <span class="hljs-attr">&quot;_meta&quot;</span>: {
    <span class="hljs-attr">&quot;schema&quot;</span>: <span class="hljs-string">&quot;https://www.anyafinn.online/content-types/slide.json&quot;</span>,
    <span class="hljs-attr">&quot;deliveryId&quot;</span>: <span class="hljs-string">&quot;d6ccc158-6ab7-48d0-aa85-d9fbf2aef000&quot;</span>,
    <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;example-slide&quot;</span>
  },
  <span class="hljs-attr">&quot;heading&quot;</span>: <span class="hljs-string">&quot;Free shipping until Sunday!&quot;</span>
}</code></pre>
				<a href="#transform-images" id="transform-images" style="color: inherit; text-decoration: none;">
					<h3>Transform images</h3>
				</a>
				<p>In addition to serving image and Video content, Dynamic Content can also transform media on the fly allowing you to target multiple channels and deliver just the pixels required from a single master asset.</p>
				<p>The sdk attaches helper functions to Image and Video properties to simplify constructing Dynamic Media URLs:</p>
				<pre><code class="language-js"><span class="hljs-keyword">const</span> ImageFormat = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;dc-delivery-sdk-js&#x27;</span>).ImageFormat;

<span class="hljs-keyword">const</span> imageUrl = content.body.imageProperty
  .url()
  .width(<span class="hljs-number">500</span>)
  .height(<span class="hljs-number">500</span>)
  .sharpen()
  .format(ImageFormat.WEBP)
  .build();</code></pre>
				<p>See the sdk <a href="https://amplience.github.io/dc-delivery-sdk-js/">reference documentation</a> for further details.</p>
				<a href="#transform-content" id="transform-content" style="color: inherit; text-decoration: none;">
					<h3>Transform content</h3>
				</a>
				<p>Using the <a href="https://docs.amplience.net/integration/contentrenderingservice.html#the-content-rendering-service">Content Rendering Service</a>, you can convert the JSON content into any format you choose by applying a template previously setup in the back-office. This is typically used to convert content into fragments of HTML, XML or even rewrite the JSON.</p>
				<pre><code class="language-js">client
  .renderContentItem(<span class="hljs-string">&#x27;b322f84a-9719-42ff-a6a0-6e2924608d19&#x27;</span>, <span class="hljs-string">&#x27;templateName&#x27;</span>)
  .then(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(response.body);
  })
  .catch(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;unable to find content&#x27;</span>, error);
  });</code></pre>
				<a href="#advanced" id="advanced" style="color: inherit; text-decoration: none;">
					<h2>Advanced</h2>
				</a>
				<a href="#detecting-content-types" id="detecting-content-types" style="color: inherit; text-decoration: none;">
					<h3>Detecting content types</h3>
				</a>
				<p>When displaying content you may need to detect the content type to decide which UI widget should be used to display the content.</p>
				<p>Every content item in the body includes a built-in property _meta.schema which identifies the content type that was used to create that fragment of content. This can be used by your application to influence how the content is processed.</p>
				<p>Example:</p>
				<pre><code class="language-json">{
  <span class="hljs-attr">&quot;_meta&quot;</span>: {
    <span class="hljs-attr">&quot;schema&quot;</span>: <span class="hljs-string">&quot;https://www.anyafinn.online/content-types/slot.json&quot;</span>,
    <span class="hljs-attr">&quot;deliveryId&quot;</span>: <span class="hljs-string">&quot;62ece7d6-b541-411c-b776-0a6704ede1fb&quot;</span>,
    <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;homepage-hero&quot;</span>
  },
  <span class="hljs-attr">&quot;slotContent&quot;</span>: {
    <span class="hljs-attr">&quot;_meta&quot;</span>: {
      <span class="hljs-attr">&quot;schema&quot;</span>: <span class="hljs-string">&quot;https://www.anyafinn.online/content-types/banner.json&quot;</span>,
      <span class="hljs-attr">&quot;deliveryId&quot;</span>: <span class="hljs-string">&quot;28583572-c964-4755-825b-044718312a29&quot;</span>,
      <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;example-banner&quot;</span>
    },
    <span class="hljs-attr">&quot;heading&quot;</span>: <span class="hljs-string">&quot;Free shipping until Sunday!&quot;</span>
  }
}</code></pre>
				<pre><code class="language-js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;
<span class="hljs-keyword">import</span> { Banner, Carousel, Empty } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./components&#x27;</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
  <span class="hljs-comment">//...</span>

  getComponentForContentType(contentItem) {
    <span class="hljs-keyword">switch</span> (contentItem._meta.schema) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;https://www.anyafinn.online/content-types/banner.json&#x27;</span>:
        <span class="hljs-keyword">return</span> Banner;
      <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;https://www.anyafinn.online/content-types/carousel.json&#x27;</span>:
        <span class="hljs-keyword">return</span> Carousel;
      <span class="hljs-keyword">default</span>:
        <span class="hljs-keyword">return</span> Empty;
    }
  }

  render() {
    <span class="hljs-keyword">const</span> slotContent = <span class="hljs-built_in">this</span>.props.content.slotContent;
    <span class="hljs-keyword">const</span> TagName = <span class="hljs-built_in">this</span>.getComponentForContentType(slotContent);
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">TagName</span> <span class="hljs-attr">content</span>=<span class="hljs-string">{slotContent}</span> /&gt;</span></span>;
  }
}</code></pre>
				<a href="#strongly-typed-content" id="strongly-typed-content" style="color: inherit; text-decoration: none;">
					<h3>Strongly typed content</h3>
				</a>
				<p>Applications that support TypeScript can optionally create interfaces to represent content types within the code. This can be passed as a generic parameter when loading content which will result in a typed content body.</p>
				<pre><code class="language-typescript"><span class="hljs-keyword">interface</span> Banner <span class="hljs-keyword">extends</span> ContentBody {
  heading: <span class="hljs-built_in">string</span>;
}

client.getContentItem&lt;Banner&gt;(<span class="hljs-string">&#x27;ec5d12cc-b1bb-4df4-a7b3-fd7796326cfe&#x27;</span>);</code></pre>
				<a href="#custom-media-cnames" id="custom-media-cnames" style="color: inherit; text-decoration: none;">
					<h3>Custom media CNAMEs</h3>
				</a>
				<p>If you have previously configured custom CNAMEs for your media hosting, you can override the hostname used by the sdk when constructing image URLs as shown below:</p>
				<pre><code class="language-js"><span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> ContentClient({
  <span class="hljs-attr">account</span>: <span class="hljs-string">&#x27;myaccount&#x27;</span>,
  <span class="hljs-attr">mediaHost</span>: <span class="hljs-string">&#x27;images.mybrand.com&#x27;</span>,
  <span class="hljs-attr">secureMediaHost</span>: <span class="hljs-string">&#x27;images.mybrand.com&#x27;</span>
});</code></pre>
				<a href="#documentation" id="documentation" style="color: inherit; text-decoration: none;">
					<h2>Documentation</h2>
				</a>
				<p>Please use the following documentation resources to assist building your application:</p>
				<ul>
					<li>Dynamic Content SDK <a href="https://amplience.github.io/dc-delivery-sdk-js/">Reference documentation</a></li>
					<li>Dynamic Content Delivery API <a href="https://docs.amplience.net/integration/deliveryapi.html#the-content-delivery-api">Reference documentation</a></li>
					<li>Dynamic Content <a href="https://docs.amplience.net/">User guide</a></li>
				</ul>
				<a href="#getting-help" id="getting-help" style="color: inherit; text-decoration: none;">
					<h2>Getting Help</h2>
				</a>
				<p>If you need help using the sdk please reach out using one of the following channels:</p>
				<ul>
					<li>Ask a question on <a href="https://stackoverflow.com/">StackOverflow</a> using the tag <code>amplience-dynamic-content</code></li>
					<li>Open a support ticket with <a href="https://support.amplience.com/">Amplience Support</a></li>
					<li>Contact your <a href="https://amplience.com/customer-success">Amplience Customer Success</a> representative</li>
					<li>If you have found a bug please report it by <a href="https://github.com/amplience/dc-delivery-sdk-js/issues/new">opening an issue</a></li>
				</ul>
				<a href="#license" id="license" style="color: inherit; text-decoration: none;">
					<h2>License</h2>
				</a>
				<p>This software is licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>,</p>
				<p>Copyright 2019-2021 Amplience</p>
				<p>Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
					you may not use this file except in compliance with the License.
				You may obtain a copy of the License at</p>
				<pre><code>http:<span class="hljs-regexp">//</span>www.apache.org<span class="hljs-regexp">/licenses/</span>LICENSE-<span class="hljs-number">2.0</span></code></pre><p>Unless required by applicable law or agreed to in writing, software
					distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
					WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
					See the License for the specific language governing permissions and
				limitations under the License.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-enum">
						<a href="enums/imageformat.html" class="tsd-kind-icon">Image<wbr>Format</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/contentclient.html" class="tsd-kind-icon">Content<wbr>Client</a>
					</li>
					<li class=" tsd-kind-class tsd-has-type-parameter">
						<a href="classes/contentitem.html" class="tsd-kind-icon">Content<wbr>Item</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/contentlifecycle.html" class="tsd-kind-icon">Content<wbr>Lifecycle</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/contentmeta.html" class="tsd-kind-icon">Content<wbr>Meta</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/contentnotfounderror.html" class="tsd-kind-icon">Content<wbr>Not<wbr>Found<wbr>Error</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/contentreference.html" class="tsd-kind-icon">Content<wbr>Reference</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/contentreferencemeta.html" class="tsd-kind-icon">Content<wbr>Reference<wbr>Meta</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/edition.html" class="tsd-kind-icon">Edition</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/httperror.html" class="tsd-kind-icon">Http<wbr>Error</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/image.html" class="tsd-kind-icon">Image</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/imagemeta.html" class="tsd-kind-icon">Image<wbr>Meta</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/imageurlbuilder.html" class="tsd-kind-icon">Image<wbr>Url<wbr>Builder</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/mediameta.html" class="tsd-kind-icon">Media<wbr>Meta</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/renderedcontentitem.html" class="tsd-kind-icon">Rendered<wbr>Content<wbr>Item</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/stagingenvironmentfactory.html" class="tsd-kind-icon">Staging<wbr>Environment<wbr>Factory</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/video.html" class="tsd-kind-icon">Video</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/videometa.html" class="tsd-kind-icon">Video<wbr>Meta</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/commoncontentclientconfig.html" class="tsd-kind-icon">Common<wbr>Content<wbr>Client<wbr>Config</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/contentbody.html" class="tsd-kind-icon">Content<wbr>Body</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/contentclientconfigv1.html" class="tsd-kind-icon">Content<wbr>Client<wbr>Config<wbr>V1</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/contentclientconfigv2.html" class="tsd-kind-icon">Content<wbr>Client<wbr>Config<wbr>V2</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/generatedomainoptions.html" class="tsd-kind-icon">Generate<wbr>Domain<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/getcontentitembyid.html" class="tsd-kind-icon">Get<wbr>Content<wbr>Item<wbr>ById</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/getcontentitembykey.html" class="tsd-kind-icon">Get<wbr>Content<wbr>Item<wbr>ByKey</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/hierarchy.html" class="tsd-kind-icon">Hierarchy</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/stagingenvironmentfactoryconfig.html" class="tsd-kind-icon">Staging<wbr>Environment<wbr>Factory<wbr>Config</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#contentclientconfig" class="tsd-kind-icon">Content<wbr>Client<wbr>Config</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-has-type-parameter">
						<a href="globals.html#requriedcontentreference" class="tsd-kind-icon">Requried<wbr>Content<wbr>Reference</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#datatomessage" class="tsd-kind-icon">data<wbr>ToMessage</a>
					</li>
					<li class=" tsd-kind-object-literal">
						<a href="globals.html#defaultstagingenvironmentfactoryconfig" class="tsd-kind-icon">Default<wbr>Staging<wbr>Environment<wbr>Factory<wbr>Config</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>